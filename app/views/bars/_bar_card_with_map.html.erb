<div class="bar-card" data-bar-id="<%= bar.id %>">
  <!-- „Éê„Éº„Ç´„Éº„Éâ„Éò„ÉÉ„ÉÄ„ÉºÔºöÁîªÂÉè + „Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥„Ç™„Éº„Éê„Éº„É¨„Ç§ -->
  <div class="bar-card-header <%= 'has-image' if bar.image_url.present? %>"
      <% if bar.image_url.present? %>
        style="background-image: url('<%= bar.image_url %>');"
      <% end %>>
    <div class="bar-card-header-content">
      <div>
        <h3 class="bar-card-title"><%= bar.name %></h3>
        <p class="bar-card-address">üìç <%= bar.address %></p>
      </div>
      <div class="bar-card-tags">
        <span class="status-tag">
          <%= bar.smoking_status %>
        </span>
        <span class="rating-tag">
          <%= bar.price_range %>
        </span>
      </div>
    </div>
  </div>
  <div class="bar-card-body">
    <!-- „Çπ„Éö„Ç∑„É£„É™„ÉÜ„Ç£„Çø„Ç∞ -->
    <div class="specialty-tags-container">
      <% bar.specialties.each do |specialty| %>
        <span class="specialty-tag">
          <%= specialty.category %>
          <% if specialty.is_main? %>
            <span class="ml-1 text-xs">‚≠ê</span>
          <% end %>
        </span>
      <% end %>
    </div>
    <!-- Ë©≥Á¥∞ÊÉÖÂ†± -->
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">
          <svg class="info-icon" fill="currentColor" viewBox="0 0 20 20">
            <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
          </svg>
          ‰æ°Ê†ºÂ∏Ø
        </div>
        <div class="info-value"><%= bar.price_range %></div>
      </div>
      <div class="info-item">
        <div class="info-label">
          <svg class="info-icon" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
          </svg>
          Âñ∂Ê•≠ÊôÇÈñì
        </div>
        <div class="info-value"><%= bar.business_hours || "Ë¶ÅÁ¢∫Ë™ç" %></div>
      </div>
      <div class="info-item">
        <div class="info-label">
          <svg class="info-icon" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm2 6a2 2 0 104 0 2 2 0 00-4 0zm6 0a2 2 0 104 0 2 2 0 00-4 0z" clip-rule="evenodd"/>
          </svg>
          Âñ´ÁÖôÁä∂Ê≥Å
        </div>
        <div class="info-value"><%= bar.smoking_status %></div>
      </div>
      <% if bar.phone.present? %>
        <div class="info-item">
          <div class="info-label">
            <svg class="info-icon" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
            </svg>
            ÈõªË©±Áï™Âè∑
          </div>
          <div class="info-value">
            <a href="tel:<%= bar.phone %>" class="text-blue-600 hover:text-blue-800 transition-colors">
              <%= bar.phone %>
            </a>
          </div>
        </div>
      <% end %>
      <!-- Â∫ßÊ®ôÊÉÖÂ†±„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ‰ΩçÁΩÆÊÉÖÂ†±Ë°®Á§∫ -->
      <% if bar.latitude.present? && bar.longitude.present? %>
        <div class="info-item">
          <div class="info-label">
            <svg class="info-icon" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
            </svg>
            Âú∞Âõ≥„ÅßÁ¢∫Ë™ç
          </div>
          <div class="info-value">
            <button data-action="click->view-toggle#showBarOnMap"
              data-view-toggle-bar-name-param="<%= bar.name %>"
              class="text-blue-600 hover:text-blue-800 font-medium transition-colors">
              üìç Âú∞Âõ≥„ÅßË¶ã„Çã
            </button>
          </div>
        </div>
      <% end %>
    </div>
    <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
    <div class="card-actions">
      <%= link_to "Ë©≥Á¥∞„ÇíË¶ã„Çã", bar_path(bar), class: "detail-button" %>
      <div class="flex gap-2">
        <!-- Âú∞Âõ≥Ë°®Á§∫„Éú„Çø„É≥ÔºàÂ∫ßÊ®ô„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ„ÅøÔºâ -->
        <% if bar.latitude.present? && bar.longitude.present? %>
          <button data-action="click->view-toggle#showBarOnMap"
            data-view-toggle-bar-name-param="<%= bar.name %>"
            class="favorite-button"
            title="Âú∞Âõ≥„ÅßË°®Á§∫">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
            </svg>
          </button>
        <% end %>
        <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥ÔºàÂæåÊó•ÂÆüË£ÖÔºâ -->
        <button class="favorite-button"
                type="button"
                title="„ÅäÊ∞ó„Å´ÂÖ•„Çä„Å´ËøΩÂä†">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
